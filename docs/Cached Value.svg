<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="302px" preserveAspectRatio="none" style="width:708px;height:302px;" version="1.1" viewBox="0 0 708 302" width="708px" zoomAndPan="magnify"><defs><filter height="300%" id="f1grnaymgpbjd9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="226.25" y="23.5352">Architecture Flow with cached Value</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="68.9766" y2="262.1504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="274.5" x2="274.5" y1="68.9766" y2="262.1504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="511" x2="511" y1="68.9766" y2="262.1504"/><rect fill="#FEFECE" filter="url(#f1grnaymgpbjd9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="8" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="15" y="54.0234">Query</text><rect fill="#FEFECE" filter="url(#f1grnaymgpbjd9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="8" y="261.1504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="15" y="281.6855">Query</text><rect fill="#FEFECE" filter="url(#f1grnaymgpbjd9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="244.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="251.5" y="54.0234">Cache</text><rect fill="#FEFECE" filter="url(#f1grnaymgpbjd9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="244.5" y="261.1504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="251.5" y="281.6855">Cache</text><rect fill="#FEFECE" filter="url(#f1grnaymgpbjd9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="467" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="474" y="54.0234">CacheMap</text><rect fill="#FEFECE" filter="url(#f1grnaymgpbjd9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="467" y="261.1504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="474" y="281.6855">CacheMap</text><polygon fill="#A80036" points="262.5,96.2871,272.5,100.2871,262.5,104.2871,266.5,100.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="268.5" y1="100.2871" y2="100.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="44.5" y="95.5449">getUser({ user: 1 })</text><polygon fill="#A80036" points="499.5,153.5635,509.5,157.5635,499.5,161.5635,503.5,157.5635" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="274.5" x2="505.5" y1="157.5635" y2="157.5635"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="281.5" y="152.8213">get CachedValue</text><path d="M516,113.2871 L516,184.2871 L696,184.2871 L696,123.2871 L686,113.2871 L516,113.2871 " fill="#FBFB77" filter="url(#f1grnaymgpbjd9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M686,113.2871 L686,123.2871 L696,123.2871 L686,113.2871 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="522" y="130.8555">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="530" y="146.166">[{ user: 1 }]: CacheValue,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="530" y="161.4766">[{ user: 2 }]: CacheValue</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="522" y="176.7871">}</text><polygon fill="#A80036" points="285.5,210.8398,275.5,214.8398,285.5,218.8398,281.5,214.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="279.5" x2="510.5" y1="214.8398" y2="214.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="291.5" y="210.0977">return CachedValue for "{ user 1 }"</text><polygon fill="#A80036" points="48.5,240.1504,38.5,244.1504,48.5,248.1504,44.5,244.1504" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42.5" x2="273.5" y1="244.1504" y2="244.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="54.5" y="239.4082">return CachedValue for "{ user 1 }"</text><!--
@startuml "Cached Value"

title
Architecture Flow with cached Value
end title
participant Query
participant Cache
participant CacheMap

Query -> Cache : getUser({ user: 1 })
Cache -> CacheMap : get CachedValue
note right
{
  [{ user: 1 }]: CacheValue,
  [{ user: 2 }]: CacheValue
}
end note
CacheMap -> Cache : return CachedValue for "{ user 1 }"
Cache -> Query : return CachedValue for "{ user 1 }"

@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_181-b13
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: UTF-8
Language: en
Country: IT
--></g></svg>
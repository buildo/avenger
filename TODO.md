- [x] Fix Unhandled Promise rejections (see `yarn test`)
- [ ] Find a way to write readable tests
- [ ] Try to remove some unsafe `any` casts
- [x] Add `invalidate` to `Cache`
- [x] Add top-level `invalidate`. Should invalidate a set of queries
- [ ] Add topo-sort to top-level `invalidate`
- [x] Add `command(cmd: Fetch<A, L, P>, invalidates: Record<K, ObservableQ>)`. Implement the old `runCommand` as the result of `command.run()`
- [x] Add support for `Strategy` (and maybe some default ones)
- [ ] Start porting some real world usages as tests
- [x] Rewrite `Product`s to be labelled products (structs) instead of tuples. So that we can e.g. reuse it as `command` named dependencies. Refer to https://github.com/gcanti/fp-ts-contrib/blob/master/src/sequenceS.ts (similar typing strategy)
- [ ] TODO in Cache.ts/invalidate: do we nead to cleanup the subject first to avoid leaks?
- [ ] (maybe) Add command `dependencies`
- [ ] (maybe) Add `/compat` folder, supporting the old `Query`/`Command` DSLs
- [ ] Add `/react` folder, basically including `react-avenger` with necessary changes
